Index: SERVER-50758-fcv-refactor-design/fcv_components/fcv_components.gv
===================================================================
--- SERVER-50758-fcv-refactor-design.orig/fcv_components/fcv_components.gv
+++ SERVER-50758-fcv-refactor-design/fcv_components/fcv_components.gv
@@ -22,15 +22,6 @@ MultiVersionConstants [
 label = "MultiVersionConstants\l-\ featureCompatibilityVersions\l-\ longTermSupportReleases\l"
 ];
 
-FeatureCompatibility [
-label = "struct ServerGlobalParams\:\:FeatureCompatibility\lenums\:\l-\ kLatest\l-\ kLastContinuous\l-\ kLastLTS\l-\ kUpgradingFromLastLTSToLatest\l-\ kUpgradingFromLastContinuousToLatest\l-\ kDowngradingFromLatestToLastLTS\l-\ kDowngradingFromLatestToLastContinuous\l-\ kUpgradingFromLastLTSToLastContinuous\l-\ _version\l-\ getVersion â†’ enum\l-\ isGreater/LessThanOrEqualTo, etc\l"
-];
-
-FeatureCompatibilityVersionEnum [
-label = "enum ServerGlobalParams\:\:FeatureCompatibility\:\:Version\l-\ kInvalid\l-\ kUnsetDefault44Behavior\l-\ kFullyDowngradedTo44\l-\ kDowngradingFrom47To44\l-\ kDowngradingFrom48To44\l-\ kUpgradingFrom44To47\l-\ kUpgradingFrom44To48\l-\ kVersion47\l-\ kDowngradingFrom48To47\l-\ kUpgradingFrom47To48\l-\ kVersion48\l"
-];
-
-
 FeatureCompatibilityVersionDocument [
 label = "struct FeatureCompatibilityVersionDocument (from IDL)\l-\ _id\l-\ version\l-\ targetVersion\l-\ previousVersion\l"
 ];
@@ -69,18 +60,18 @@ label = "validateUpgradeRequest"
 
 MultiVersionConstants -> multiversion_constants_yml [label = "generated from"];
 FeatureCompatibilityVersionParser -> MultiVersionConstants [label = "uses"];
-getFcvDocTargetVersionField -> FeatureCompatibility [label = "uses"];
-getFcvDocVersionField -> FeatureCompatibility [label = "uses"];
-FeatureCompatibility -> FeatureCompatibilityVersionEnum [label = "has a"];
-FeatureCompatibilityVersion -> FeatureCompatibilityVersionEnum [label = "uses"];
+getFcvDocTargetVersionField -> FeatureCompatibilityVersionParser [label = "uses"];
+getFcvDocVersionField -> FeatureCompatibilityVersionParser [label = "uses"];
 FeatureCompatibilityVersion -> FeatureCompatibilityVersionDocument [label = "uses"];
 FeatureCompatibilityVersion -> getFcvDocVersionField;
 FeatureCompatibilityVersion -> getFcvDocTargetVersionField;
-FeatureCompatibilityVersionDocument -> FeatureCompatibilityVersionEnum [label = "uses"];
+FeatureCompatibilityVersionDocument -> FeatureCompatibilityVersionParser [label = "uses"];
 fcv_string -> FeatureCompatibilityVersionParser [label = "uses"];
 SetFeatureCompatibilityVersionCommand -> validateDowngradeRequest [label = "calls"];
 SetFeatureCompatibilityVersionCommand -> validateUpgradeRequest [label = "calls"];
 SetFeatureCompatibilityVersionCommand -> FeatureCompatibilityVersionParser;
 SetFeatureCompatibilityVersionCommand -> FeatureCompatibilityVersion;
+validateDowngradeRequest -> FeatureCompatibilityVersionParser [label = "uses"];
+validateUpgradeRequest -> FeatureCompatibilityVersionParser [label = "uses"];
 FeatureCompatibilityVersionDocument -> fcv_string;
 }
